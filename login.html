<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„ÙƒÙˆØ±Ø³ â€” Ø­Ù…Ø§ÙŠØ© Ù‚ØµÙˆÙ‰ (Ù…Ù„Ù ÙˆØ§Ø­Ø¯)</title>

  <!-- Ø®Ø· -->
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;800&display=swap" rel="stylesheet" />

  <!-- Ø³ÙŠØ§Ø³Ø§Øª Ø£Ù…Ø§Ù† (Ø§Ù„Ø£ÙØ¶Ù„ ÙˆØ¶Ø¹Ù‡Ø§ Ù…Ù† Ø§Ù„Ù‡ÙŠØ¯Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø³ÙŠØ±ÙØ±) -->
  <meta http-equiv="Content-Security-Policy" content="default-src 'self' https://www.youtube.com; img-src 'self' data: https://*; media-src https://*; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src https://fonts.gstatic.com; script-src 'self' 'unsafe-inline'; frame-src https://www.youtube.com; frame-ancestors 'none'; upgrade-insecure-requests">
  <meta http-equiv="Permissions-Policy" content="camera=(), microphone=(), geolocation=()">

  <style>
    :root{
      --bg: #ffffff;
      --green:#00a86b;
      --orange:#ff8c00;
      --orange-2:#ffb347;
      --ink:#1d1e22;
      --danger:#b00020;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:'Cairo',system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,'Helvetica Neue',Arial,'Noto Sans',sans-serif;
      background: radial-gradient(1200px 800px at 10% -20%, rgba(255,140,0,.18), transparent 60%),
                  radial-gradient(900px 600px at 110% 120%, rgba(0,168,107,.15), transparent 55%),
                  linear-gradient(180deg,#fff 0%, #fff 40%, #f8fff9 100%);
      color:var(--ink);
      overflow-x:hidden;
      user-select:none;               /* Ù…Ù†Ø¹ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù†Øµ */
      -webkit-user-select:none;       /* Ø³ÙØ§Ø±ÙŠ/ÙƒØ±ÙˆÙ… */
      -webkit-touch-callout:none;     /* Ù…Ù†Ø¹ Ø§Ù„Ø¶ØºØ· Ø§Ù„Ù…Ø·ÙˆÙ„ Ø¨Ø§Ù„Ù‡Ø§ØªÙ */
      touch-action: manipulation;
    }
    ::selection{background:transparent}

    /* Ø´Ø±ÙŠØ· Ø¹Ù„ÙˆÙŠ Ø«Ø§Ø¨Øª: Ø³Ø§Ø¹Ø© Ø£ÙˆÙ†Ù„Ø§ÙŠÙ† + Ø²Ø± Ø±Ø¬ÙˆØ¹ */
    .topbar{
      position:fixed; inset:0 0 auto 0; height:52px; z-index:1000; display:flex; align-items:center; justify-content:space-between; gap:12px;
      padding:8px 14px; background:linear-gradient(90deg, rgba(255,255,255,.92), rgba(255,255,255,.75));
      border-bottom:1px solid rgba(0,0,0,.06); backdrop-filter: blur(10px);
    }
    .topbar .brand{ display:flex; align-items:center; gap:10px; font-weight:900; color:#0a3d2d }
    .topbar .brand .dot{ width:10px; height:10px; border-radius:50%; background:linear-gradient(135deg,var(--green),var(--orange)) }
    .clock{ font-weight:800; letter-spacing:.4px }
    .btn{ appearance:none; border:0; cursor:pointer; font-weight:800; letter-spacing:.2px; border-radius:14px; padding:10px 16px; transition:.25s; position:relative; overflow:hidden }
    .btn.ghost{ background:#fff; color:var(--green); border:2px solid #e6f3ef }
    .btn.danger{ background:var(--danger); color:#fff }

    /* Toast */
    .toast{ position:fixed; top:64px; right:20px; padding:12px 16px; background:linear-gradient(135deg,var(--green),var(--orange)); color:#fff; border-radius:14px; box-shadow:0 10px 30px rgba(0,0,0,.18); opacity:0; transform:translateY(-10px) scale(.95); transition:.35s; z-index:50; font-weight:700 }
    .toast.show{ opacity:1; transform:translateY(0) scale(1) }

    /* Ø®Ù„ÙÙŠØ§Øª */
    .floaty{position:fixed; inset:0; pointer-events:none; z-index:-1}
    .blob{position:absolute; width:320px; height:320px; border-radius:50%; filter:blur(40px); opacity:.35; mix-blend-mode:multiply; animation: drift 18s linear infinite}
    .blob.g{ background:radial-gradient(circle at 30% 30%, #00a86b, transparent 60%)}
    .blob.o{ background:radial-gradient(circle at 70% 70%, #ff8c00, transparent 60%)}
    .blob.b1{ top:12%; right:-6%; animation-duration:22s }
    .blob.b2{ bottom:-8%; left:-6%; animation-duration:26s }
    @keyframes drift { 0%{transform:translate(0,0) rotate(0)} 50%{transform:translate(40px,-20px) rotate(120deg)} 100%{transform:translate(0,0) rotate(360deg)} }

    /* Ø§Ù„ØºÙ„Ø§Ù */
    .shell{ min-height:100vh; display:grid; place-items:center; padding:20px; padding-top:84px }

    /* ÙƒØ§Ø±Øª ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ */
    .card{
      width:min(440px, 94vw);
      background:rgba(255,255,255,.85);
      border-radius:24px;
      backdrop-filter: blur(10px);
      border:1px solid rgba(0,0,0,.06);
      box-shadow: 0 30px 80px rgba(0,168,107,.18), 0 10px 30px rgba(255,140,0,.15);
      overflow:hidden;
      transform: translateY(10px);
      animation: pop .7s cubic-bezier(.2,.9,.2,1) .1s forwards;
    }
    @keyframes pop{ to{transform:none} }
    .card-head{ position:relative; padding:28px 24px 20px; text-align:center; color:#fff;
      background: conic-gradient(from 210deg at 50% 50%, var(--green), var(--orange), var(--orange-2), var(--green)); }
    .card-head h1{ margin:0; font-size:clamp(20px, 3.8vw, 28px); font-weight:800; letter-spacing:.3px }
    .card-head p{ margin:.35rem 0 0; opacity:.9; font-weight:600 }
    .ribbons{ position:absolute; inset:auto 0 -18px 0; height:36px; display:flex; gap:6px; justify-content:center; filter:drop-shadow(0 6px 10px rgba(0,0,0,.25)) }
    .rib{ width:84px; height:36px; border-radius:10px; background:linear-gradient(135deg,#fff, #f7fff9); border:1px solid rgba(0,0,0,.06); transform: skewX(-18deg) }

    .card-body{ padding:24px }
    .label{ font-size:14px; font-weight:700; color:#0a3d2d; margin-bottom:6px; display:block }
    .input{ width:100%; padding:14px 14px; border-radius:14px; border:2px solid #e6f3ef; outline:none; background:#ffffff; font-size:16px; transition:.25s; user-select:auto; -webkit-user-select:auto; }
    .input:focus{ border-color:var(--green); box-shadow:0 0 0 4px rgba(0,168,107,.12) }

    .actions{ display:flex; align-items:center; justify-content:space-between; gap:10px; margin-top:12px }

    .helper{ font-size:13px; color:#d01f1f; min-height:20px; margin-top:8px; font-weight:700 }

    .whatsapp{ display:flex; align-items:center; justify-content:center; gap:8px; margin:14px 0 8px; font-weight:800; text-decoration:none; color:#0c8f3f; padding:10px 12px; border-radius:14px; background:#eafff4; border:1px solid #bcf3d4 }
    .whatsapp img{ width:20px; height:20px }

    .admin-tools{ display:flex; justify-content:center; margin-top:10px }
    .admin-tools button{ font-size:12px; padding:8px 10px }

    /* Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¨Ø¹Ø¯ Ø§Ù„Ø¯Ø®ÙˆÙ„ */
    #app{ display:none; opacity:0 }
    .app-header{ position:sticky; top:52px; z-index:20; backdrop-filter: blur(10px); background: linear-gradient(180deg, rgba(255,255,255,.9), rgba(255,255,255,.75)); border-bottom:1px solid rgba(0,0,0,.06) }
    .app-header .wrap{ max-width:1100px; margin:auto; padding:12px 18px; display:flex; align-items:center; gap:12px; justify-content:space-between }
    .brand{ display:flex; align-items:center; gap:10px; font-weight:900; color:#0a3d2d }
    .brand .dot{ width:12px; height:12px; border-radius:50%; background:linear-gradient(135deg,var(--green),var(--orange)) }
    .logout{ font-size:14px }

    .app-content{ max-width:1100px; margin:20px auto; padding:0 16px 50px }
    .grid{ display:grid; grid-template-columns: repeat(12, 1fr); gap:16px }
    .col{ grid-column: span 12 }
    @media (min-width: 760px){ .col{ grid-column: span 6 } }

    .vcard{ position:relative; border-radius:20px; overflow:hidden; background:#fff; border:1px solid rgba(0,0,0,.05); box-shadow: 0 12px 22px rgba(0,0,0,.12) }
    .vhead{ padding:14px 16px; font-weight:800; color:#0a3d2d; display:flex; align-items:center; justify-content:space-between; background:linear-gradient(90deg,#f7fff9,#fff) }
    .vplayer{ position:relative }
    iframe{ width:100%; height: clamp(220px, 56vw, 520px); border:0; display:block }

    /* ÙˆÙˆØªØ§Ø±Ù…Ø§Ø±Ùƒ Ù…ØªØ­Ø±Ùƒ: Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙÙ‚Ø· */
    .wm{ pointer-events:none; position:absolute; inset:0; }
    .tag{ position:absolute; font-weight:900; font-size: clamp(14px, 3.6vw, 22px); color: rgba(255,255,255,.88); text-shadow: 0 2px 10px rgba(0,0,0,.55); user-select:none }

    /* Ø´Ø¨ÙƒØ© Ø®ÙÙŠÙØ© Ø¬Ø¯Ù‹Ø§ */
    .wm-tiles{ position:absolute; inset:0; pointer-events:none; opacity:.06; background-size:220px 120px; background-repeat:repeat; mix-blend-mode:multiply }

    /* Ù‚ÙÙ„ */
    .lock{ position:fixed; inset:0; background:rgba(0,0,0,.88); color:#fff; display:none; place-items:center; z-index:2000 }
    .lock .box{ background:#111; border:1px solid #333; padding:24px; border-radius:16px; text-align:center; max-width:380px }

    /* Ø¨ÙˆØ§Ø¨Ø© */
    .gate{ position:fixed; inset:0; pointer-events:none; z-index:40; display:none }
    .ring{ position:absolute; inset:0; margin:auto; width:160vmax; height:160vmax; border-radius:50%; background:radial-gradient(circle, rgba(255,255,255,.0) 40%, rgba(255,140,0,.28) 41%, rgba(0,168,107,.3) 43%, rgba(255,255,255,0) 46%); animation: boom .9s ease-out forwards }
    @keyframes boom{ 0%{ transform:scale(.02); opacity:1 } 100%{ transform:scale(1.1); opacity:0 } }
  </style>
</head>
<body>

  <!-- Ø´Ø±ÙŠØ· Ø¹Ù„ÙˆÙŠ: Ø³Ø§Ø¹Ø© + Ø±Ø¬ÙˆØ¹ -->
  <div class="topbar" dir="rtl">
    <div class="brand"><span class="dot"></span><span>Ù…Ù†ØµØ© Ø§Ù„ÙƒÙˆØ±Ø³</span></div>
    <div class="clock" id="clock">--:--:--</div>
    <div style="display:flex; gap:8px; align-items:center">
      <button class="btn ghost" id="backBtn" title="Ø±Ø¬ÙˆØ¹ Ù„Ù„ØµÙØ­Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©">Ø±Ø¬ÙˆØ¹</button>
      <button class="btn danger" id="panicBtn" title="Ø®Ø±ÙˆØ¬ ÙÙˆØ±ÙŠ">Ø®Ø±ÙˆØ¬</button>
    </div>
  </div>

  <!-- Ø¹Ù†Ø§ØµØ± Ø®Ù„ÙÙŠØ© Ø·Ø§ÙŠØ±Ø© -->
  <div class="floaty" aria-hidden="true">
    <div class="blob g b1"></div>
    <div class="blob o b2"></div>
  </div>

  <div class="toast" id="toast">ğŸ‰ ÙŠÙ„Ø§ Ø¨ÙŠÙ†Ø§!</div>
  <div class="gate" id="gate"><div class="ring"></div></div>

  <!-- Ø´Ø§Ø´Ø© Ù‚ÙÙ„ Ø¹Ù†Ø¯ Ø§Ù„Ø·Ø±Ø¯ -->
  <div class="lock" id="lock">
    <div class="box">
      <h2>ğŸš« ØªÙ… Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ø¬Ù„Ø³Ø©</h2>
      <p id="lockMsg">Ù„Ù‚Ø¯ ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬Ùƒ Ø¨Ø³Ø¨Ø¨ Ù…Ø­Ø§ÙˆÙ„Ø© ØºÙŠØ± Ù…Ø³Ù…ÙˆØ­ Ø¨Ù‡Ø§.</p>
    </div>
  </div>

  <!-- ØµÙØ­Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
  <main class="shell" id="login">
    <section class="card" role="dialog" aria-labelledby="title">
      <header class="card-head">
        <h1 id="title">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„ÙƒÙˆØ±Ø³</h1>
        <p>Ø£Ù‡Ù„Ø§Ù‹ Ø¨ÙŠÙƒ! Ø£Ø¯Ø®Ù„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ ÙˆØ§Ø¨Ø¯Ø£ Ø§Ù„ØªØ¹Ù„Ù… âœ¨</p>
        <div class="ribbons" aria-hidden="true">
          <div class="rib"></div><div class="rib"></div><div class="rib"></div>
        </div>
      </header>
      <div class="card-body">
        <label class="label" for="u">Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</label>
        <input class="input" id="u" autocomplete="username" inputmode="text" placeholder="Ù…Ø«Ø§Ù„: dr2025001" />

        <label class="label" for="p">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
        <input class="input" id="p" type="password" autocomplete="current-password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" />

        <div class="actions">
          <button class="btn ghost" id="clearBtn" title="Ù…Ø³Ø­">Ù…Ø³Ø­</button>
          <button class="btn" style="background:linear-gradient(135deg,var(--green), var(--orange)); color:#fff; box-shadow: 0 10px 22px rgba(0,168,107,.25)" id="loginBtn">Ø¯Ø®ÙˆÙ„</button>
        </div>
        <div class="helper" id="err"></div>

        <a class="whatsapp" href="https://wa.me/201010238579?text=%D8%A3%D9%86%D8%A7%20%D8%B9%D8%A7%D9%88%D8%B2%20%D8%A7%D8%B4%D8%AA%D8%B1%D9%83%20%D9%81%D9%8A%20%D8%A7%D9%84%D9%83%D9%88%D8%B1%D8%B3" target="_blank" rel="noopener">
          <img alt="ÙˆØ§ØªØ³Ø§Ø¨" src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg"/> ØªÙˆØ§ØµÙ„ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨ Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„
        </a>

        <div class="admin-tools">
          <button class="btn ghost" id="exportBtn" title="ØªØ­Ù…ÙŠÙ„ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† (CSV)">ğŸ” ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† (CSV)</button>
        </div>
      </div>
    </section>
  </main>

  <!-- Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¨Ø¹Ø¯ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
  <section id="app">
    <header class="app-header">
      <div class="wrap">
        <div class="brand"><span class="dot"></span><span>Ù…Ù†ØµØ© Ø§Ù„ÙƒÙˆØ±Ø³</span></div>
        <div style="display:flex;align-items:center;gap:10px">
          <strong id="who"></strong>
          <button class="btn ghost logout" onclick="forceLogout('ğŸšª ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬')">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</button>
        </div>
      </div>
    </header>

    <div class="app-content">
      <div class="grid" id="videos"></div>
    </div>
  </section>

  <script>
    // ======================== Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ÙÙŠØ¯ÙŠÙˆ ========================
    const videoLinks = [
      "https://www.youtube.com/embed/VX8EPEWJVq0",
      "Ù„ÙŠÙ†Ùƒ 2",
      "Ù„ÙŠÙ†Ùƒ 3",
      "Ù„ÙŠÙ†Ùƒ 4"
    ];

    // ======================== Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ========================
    const users = [
      { username: "dr2025001", password: "QK472" },
      { username: "dr2025002", password: "HB915" },
      { username: "dr2025003", password: "MT648" },
      { username: "dr2025004", password: "ZW183" },
      { username: "dr2025005", password: "LC592" },
      { username: "dr2025006", password: "FD706" },
      { username: "dr2025007", password: "AX354" },
      { username: "dr2025008", password: "VE801" },
      { username: "dr2025009", password: "JP627" },
      { username: "dr2025010", password: "RY548" },
      { username: "dr2025011", password: "NU269" },
      { username: "dr2025012", password: "TB940" },
      { username: "dr2025013", password: "GK731" },
      { username: "dr2025014", password: "WM825" },
      { username: "dr2025015", password: "CQ174" },
      { username: "dr2025016", password: "SZ396" },
      { username: "dr2025017", password: "PH209" },
      { username: "dr2025018", password: "OV651" },
      { username: "dr2025019", password: "EY384" },
      { username: "dr2025020", password: "BJ972" },
      { username: "dr2025021", password: "LF103" },
      { username: "dr2025022", password: "KI854" },
      { username: "dr2025023", password: "MX427" },
      { username: "dr2025024", password: "HD769" },
      { username: "dr2025025", password: "QG295" },
      { username: "dr2025026", password: "RN618" },
      { username: "dr2025027", password: "ZW587" },
      { username: "dr2025028", password: "YS230" },
      { username: "dr2025029", password: "AJ953" },
      { username: "dr2025030", password: "UC467" },
      { username: "dr2025031", password: "TE982" },
      { username: "dr2025032", password: "BL719" },
      { username: "dr2025033", password: "VP306" },
      { username: "dr2025034", password: "OS840" },
      { username: "dr2025035", password: "XR594" },
      { username: "dr2025036", password: "DW718" },
      { username: "dr2025037", password: "MC285" },
      { username: "dr2025038", password: "HQ964" },
      { username: "dr2025039", password: "NY431" },
      { username: "dr2025040", password: "FB609" },
      { username: "dr2025041", password: "LS284" },
      { username: "dr2025042", password: "PU719" },
      { username: "dr2025043", password: "ZC517" },
      { username: "dr2025044", password: "KM402" },
      { username: "dr2025045", password: "YG835" },
      { username: "dr2025046", password: "AD790" },
      { username: "dr2025047", password: "RJ652" },
      { username: "dr2025048", password: "VH291" },
      { username: "dr2025049", password: "OE547" },
      { username: "dr2025050", password: "TI386" },
      { username: "dr2025051", password: "CN482" },
      { username: "dr2025052", password: "QZ178" },
      { username: "dr2025053", password: "WS690" },
      { username: "dr2025054", password: "ML520" },
      { username: "dr2025055", password: "PX947" },
      { username: "dr2025056", password: "FV613" },
      { username: "dr2025057", password: "GE294" },
      { username: "dr2025058", password: "BY740" },
      { username: "dr2025059", password: "HU835" },
      { username: "dr2025060", password: "AK507" },
      { username: "dr2025061", password: "XQ392" },
      { username: "dr2025062", password: "ZL681" },
      { username: "dr2025063", password: "DR158" },
      { username: "dr2025064", password: "OE473" },
      { username: "dr2025065", password: "SJ594" },
      { username: "dr2025066", password: "KF819" },
      { username: "dr2025067", password: "UL280" },
      { username: "dr2025068", password: "PQ967" },
      { username: "dr2025069", password: "VR136" },
      { username: "dr2025070", password: "NW548" },
      { username: "dr2025071", password: "HZ209" },
      { username: "dr2025072", password: "CG874" },
      { username: "dr2025073", password: "LB705" },
      { username: "dr2025074", password: "TP491" },
      { username: "dr2025075", password: "EJ602" },
      { username: "dr2025076", password: "MY253" },
      { username: "dr2025077", password: "FS980" },
      { username: "dr2025078", password: "QO178" },
      { username: "dr2025079", password: "VK320" },
      { username: "dr2025080", password: "AI695" },
      { username: "dr2025081", password: "ZR586" },
      { username: "dr2025082", password: "DY403" },
      { username: "dr2025083", password: "GW217" },
      { username: "dr2025084", password: "XT950" },
      { username: "dr2025085", password: "JE184" },
      { username: "dr2025086", password: "UC729" },
      { username: "dr2025087", password: "PM604" },
      { username: "dr2025088", password: "KV315" },
      { username: "dr2025089", password: "RX890" },
      { username: "dr2025090", password: "BQ278" },
      { username: "dr2025091", password: "NH542" },
      { username: "dr2025092", password: "LV631" },
      { username: "dr2025093", password: "SW907" },
      { username: "dr2025094", password: "EA756" },
      { username: "dr2025095", password: "YM428" },
      { username: "dr2025096", password: "ZT903" },
      { username: "dr2025097", password: "DG547" },
      { username: "dr2025098", password: "KU362" },
      { username: "dr2025099", password: "HP690" },
      { username: "dr2025100", password: "OF284" }
    ];

    // ======================== Ø­Ø§Ù„Ø© Ø§Ù„Ø¬Ù„Ø³Ø© ========================
    let currentUser = null;

    const qs = (s,p=document)=>p.querySelector(s);
    const qsa = (s,p=document)=>[...p.querySelectorAll(s)];

    function showToast(msg){ const t=qs('#toast'); t.textContent=msg; t.classList.add('show'); setTimeout(()=>t.classList.remove('show'), 2200); }

    function enterApp(){
      const g = qs('#gate'); g.style.display='block'; g.firstElementChild.style.animation='none'; void g.firstElementChild.offsetWidth; g.firstElementChild.style.animation='boom .9s ease-out forwards';
      setTimeout(()=>{ qs('#login').style.display='none'; const app=qs('#app'); app.style.display='block'; requestAnimationFrame(()=>{ app.style.opacity=1; }); showToast('ğŸ‰ ÙŠÙ„Ø§ Ø¨ÙŠÙ†Ø§!'); }, 120);
    }

    function renderVideos(){
      const wrap = qs('#videos'); wrap.innerHTML='';
      const onlyLinks = videoLinks.filter(v=> /^https?:\/\//i.test(v));
      onlyLinks.forEach((src, idx)=>{
        const card = document.createElement('article'); card.className='vcard col';
        const tileBG = "repeating-linear-gradient(45deg, transparent 0 160px, rgba(0,0,0,.9) 160px 161px ), repeating-linear-gradient(-45deg, transparent 0 160px, rgba(0,0,0,.9) 160px 161px )";
        card.innerHTML = `
          <div class="vhead"><span>ğŸ¬ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ ${idx+1}</span><span style="color:var(--orange);font-weight:800">ØªØ´ØºÙŠÙ„ ÙÙ‚Ø·</span></div>
          <div class="vplayer">
            <div class="wm-tiles" style="background-image:${JSON.stringify(tileBG)}"></div>
            <div class="wm"><span class="tag" id="wm-${idx}">${currentUser}</span></div>
            <iframe
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen"
              sandbox="allow-same-origin allow-scripts allow-forms allow-popups allow-presentation"
              referrerpolicy="origin"
              allowfullscreen
              src="${src}?rel=0&modestbranding=1&iv_load_policy=3&fs=1&controls=1&disablekb=0">
            </iframe>
          </div>`;
        wrap.appendChild(card);
        startFloatingWM(qs(`#wm-${idx}`));
      });
    }

    function validate(u,p){ return users.some(x=> x.username===u && x.password===p ); }

    // Ø®Ø±ÙˆØ¬ ÙÙˆØ±ÙŠ (Ø£Ù‚ØµÙ‰ Ù…Ø§ ÙŠØ³Ù…Ø­ Ø¨Ù‡ Ø§Ù„Ù…ØªØµÙØ­)
    function hardExit(reason){
      try{ localStorage.clear(); sessionStorage.clear(); }catch(_){ }
      try{ document.body.innerHTML=''; }catch(_){ }
      try{ window.stop(); }catch(_){ }
      try{ window.open('', '_self'); window.close(); }catch(_){ }
      try{ location.replace('about:blank'); }catch(_){ }
      const lock = qs('#lock'); if(lock){ qs('#lockMsg').textContent = reason || 'ØªÙ… Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø¬Ù„Ø³Ø©.'; lock.style.display='grid'; }
      setTimeout(()=>{ try{ document.documentElement.innerHTML=''; }catch(_){ } }, 200);
    }

    function forceLogout(msg){
      currentUser=null;
      qs('#who').textContent='';
      qs('#app').style.display='none';
      qs('#login').style.display='grid';
      qs('#u').value=''; qs('#p').value='';
      const lock = qs('#lock'); qs('#lockMsg').textContent = msg || 'ØªÙ… Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø¬Ù„Ø³Ø©.'; lock.style.display='grid';
      setTimeout(()=> lock.style.display='none', 2000);
    }
    function returnToLogin(){ qs('#lock').style.display='none'; }

    // Ø´Ø±ÙŠØ· Ø¹Ù„ÙˆÙŠ: Ø§Ù„Ø³Ø§Ø¹Ø© + Ø£Ø²Ø±Ø§Ø±
    (function initClock(){
      const el = qs('#clock');
      const pad = n=> String(n).padStart(2,'0');
      setInterval(()=>{
        const d = new Date();
        const s = `${pad(d.getHours())}:${pad(d.getMinutes())}:${pad(d.getSeconds())}`;
        el.textContent = s;
      }, 250);
    })();

    qs('#backBtn').addEventListener('click', ()=>{ try{ history.back(); }catch(_){ location.href='about:blank'; } });
    qs('#panicBtn').addEventListener('click', ()=> hardExit('ğŸš« ØªÙ… Ø§Ù„Ø®Ø±ÙˆØ¬'));

    // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
    qs('#loginBtn').addEventListener('click', ()=>{
      const u = qs('#u').value.trim();
      const p = qs('#p').value.trim();
      if(!u || !p){ qs('#err').textContent='Ù…Ù† ÙØ¶Ù„Ùƒ Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙƒØ§Ù…Ù„Ø©'; return; }
      if(!/^dr2025\d{3}$/i.test(u)){ qs('#err').textContent='Ø§Ù„ØµÙŠØºØ© ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† Ù…Ø«Ù„: dr2025001'; return; }
      if(!validate(u,p)){ qs('#err').textContent='âŒ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£Ùˆ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©'; return; }
      qs('#err').textContent='';
      currentUser = u; qs('#who').textContent = `Ù…Ø±Ø­Ø¨Ù‹Ø§ØŒ ${u}`;
      enterApp();
      renderVideos();
    });

    qs('#clearBtn').addEventListener('click', ()=>{ qs('#u').value=''; qs('#p').value=''; qs('#err').textContent=''; });

    // ØªØ­Ù…ÙŠÙ„ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† CSV (Ø¨Ù€ PIN)
    qs('#exportBtn').addEventListener('click', ()=>{
      const pin = prompt('Ø£Ø¯Ø®Ù„ PIN Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©');
      if(pin !== '7amo'){ alert('PIN ØºÙŠØ± ØµØ­ÙŠØ­'); return; }
      const rows = [['username','password'], ...users.map(u=>[u.username,u.password])];
      const csv = rows.map(r=> r.map(x=>`"${String(x).replaceAll('"','""')}"`).join(',')).join('\n');
      const blob = new Blob([csv], {type:'text/csv;charset=utf-8;'});
      const a = document.createElement('a'); a.href = URL.createObjectURL(blob); a.download = 'users-dr2025.csv'; document.body.appendChild(a); a.click(); a.remove();
    });

    // ======================== Ø­Ù…Ø§ÙŠØ© Ù‚ØµÙˆÙ‰ ========================
    const ANGRY = 'ğŸ˜¡ Ù…Ø­Ø§ÙˆÙ„Ø© ØºÙŠØ± Ù…Ø³Ù…ÙˆØ­ Ø¨Ù‡Ø§ â€” ØªÙ… Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù…ØªØµÙØ­.';

    // Ù…Ù†Ø¹ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ÙŠÙ…Ù†Ù‰
    document.addEventListener('contextmenu', (e)=>{ e.preventDefault(); hardExit(ANGRY + '\n(ÙƒÙ„ÙŠÙƒ ÙŠÙ…ÙŠÙ†)'); return false; }, true);

    // Ù…Ù†Ø¹ Ø³Ø­Ø¨/Ø¥ÙÙ„Ø§Øª + ØªØ­Ø¯ÙŠØ¯ + Ù†Ø³Ø®/Ù‚Øµ/Ù„ØµÙ‚
    document.addEventListener('dragstart', e=> e.preventDefault());
    ['selectstart','copy','cut','paste'].forEach(ev=> document.addEventListener(ev, (e)=>{ e.preventDefault(); hardExit(ANGRY + ` (${ev})`); }, true));

    // Ù…Ù†Ø¹ Ø§Ø®ØªØµØ§Ø±Ø§Øª Ø´Ø§Ø¦Ø¹Ø© + Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù…Ø·ÙˆØ± + Ø¨Ø±Ù†Øª Ø³ÙƒØ±ÙŠÙ†
    document.addEventListener('keydown', (e)=>{
      const k = e.key; const ctrl = e.ctrlKey||e.metaKey; const sh=e.shiftKey; const alt=e.altKey;
      const list = ['s','u','p','c','x','a'];
      const dev = ['i','j','c'];
      const bad = (ctrl && list.includes(k.toLowerCase())) || (ctrl && sh && dev.includes(k.toLowerCase())) || k === 'F12' || k === 'PrintScreen' || (ctrl && k.toLowerCase()==='\u0000');
      if(bad){ e.preventDefault(); e.stopPropagation(); hardExit(ANGRY + `\n(Ù…ÙØªØ§Ø­ ${k})`); }
      // Ctrl+Shift+R (ØªÙØ±ÙŠØº ÙƒØ§Ø´) â€”
      if(ctrl && sh && (k.toUpperCase()==='R')){ e.preventDefault(); e.stopPropagation(); hardExit(ANGRY + ' (Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ù‚Ø³Ø±ÙŠØ©)'); }
    }, true);
    window.onbeforeprint = ()=> hardExit(ANGRY + ' (Ø·Ø¨Ø§Ø¹Ø©)');

    // ÙƒØ´Ù ÙØªØ­ Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù…Ø·ÙˆØ± (Ø¹Ø¯Ø© Ø·Ø±Ù‚):
    (function devtoolsTrap(){
      // ÙØ±Ù‚ Ø§Ù„Ø£Ø¨Ø¹Ø§Ø¯
      const checkGaps = ()=> (window.outerWidth - window.innerWidth) > 160 || (window.outerHeight - window.innerHeight) > 160;
      // ÙƒØ§Ø¦Ù† Ø¨Ø¬ØªØ± ÙÙŠ Ø§Ù„ÙƒÙˆÙ†Ø³ÙˆÙ„
      const bait = { get id(){ hardExit(ANGRY + ' (Console Open)'); } };
      setInterval(()=>{ if(checkGaps()) hardExit(ANGRY + ' (DevTools)'); try{ console.log(bait); }catch(_){} }, 900);
      // Ù‚ÙŠØ§Ø³ Ø²Ù…Ù† debugger
      setInterval(()=>{ const t = performance.now(); debugger; if(performance.now() - t > 50) hardExit(ANGRY + ' (Break)'); }, 1500);
    })();

    // Ù…Ø­Ø§ÙˆÙ„Ø© Ø±ØµØ¯ Ø³ÙƒØ±ÙŠÙ† Ø´ÙˆØª/Ø±ÙŠÙƒÙˆØ±Ø¯:
    // 1) ÙÙ‚Ø¯Ø§Ù† Ø§Ù„ØªØ±ÙƒÙŠØ² Ø£Ùˆ Ø¥Ø®ÙØ§Ø¡ Ø§Ù„ØµÙØ­Ø©
    document.addEventListener('visibilitychange', ()=>{ if(document.hidden){ hardExit(ANGRY + ' (Ø¥Ø®ÙØ§Ø¡ Ø§Ù„ØªØ¨ÙˆÙŠØ¨)'); } });
    window.addEventListener('blur', ()=> hardExit(ANGRY + ' (ÙÙ‚Ø¯Ø§Ù† ØªØ±ÙƒÙŠØ²)'));

    // 2) Ø§Ù„ØªÙ„Ø§Ø¹Ø¨ Ø¨Ø§Ù„Ø£Ø¨Ø¹Ø§Ø¯ Ø¨Ø´ÙƒÙ„ ÙƒØ¨ÙŠØ± (Ø¯Ø®ÙˆÙ„ Ù…Ø³Ø¬Ù‘Ù„ Ø´Ø§Ø´Ø©/ØªØºÙŠÙŠØ± Ù…ÙØ§Ø¬Ø¦)
    (function sizeProbe(){
      let w = window.innerWidth, h = window.innerHeight;
      setInterval(()=>{
        const dw = Math.abs(window.innerWidth - w);
        const dh = Math.abs(window.innerHeight - h);
        if(dw>220 || dh>220) hardExit(ANGRY + ' (ØªØ¨Ø¯ÙŠÙ„ Ø´Ø§Ø´Ø©/ØªØ³Ø¬ÙŠÙ„ Ù…Ø­ØªÙ…Ù„)');
        w = window.innerWidth; h = window.innerHeight;
      }, 1200);
    })();

    // 3) Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø³Ø­ Ù„Ù‚Ø·Ø© Ø§Ù„Ø´Ø§Ø´Ø© Ø¹Ø¨Ø± ØªÙØ±ÙŠØº Ø§Ù„ÙƒÙ„ÙŠØ¨ Ø¨ÙˆØ±Ø¯ (Ø¨Ø¹Ø¶ Ø§Ù„Ù…ØªØµÙØ­Ø§Øª)
    document.addEventListener('keyup', async (e)=>{
      if(e.key === 'PrintScreen'){
        try{ await navigator.clipboard.writeText(''); }catch(_){ }
        hardExit(ANGRY + ' (PrintScreen)');
      }
    }, true);

    // 4) Ù…Ù†Ø¹ Picture-in-Picture
    document.addEventListener('enterpictureinpicture', ()=> hardExit(ANGRY + ' (PiP)'));

    // Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± Ø§Ù„Ø£ÙˆÙ„ Ø§Ø·Ù„Ø¨ Ù…Ù„Ø¡ Ø§Ù„Ø´Ø§Ø´Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ Ù„Ø²ÙŠØ§Ø¯Ø© Ø¥Ø­ÙƒØ§Ù… Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø©)
    document.addEventListener('click', ()=>{
      const root = document.documentElement; if(!document.fullscreenElement && root.requestFullscreen){ root.requestFullscreen().catch(()=>{}); }
    }, { once:true });

    // ======================== ÙˆÙˆØªØ§Ø±Ù…Ø§Ø±Ùƒ Ø¨Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙÙ‚Ø· ========================
    function startFloatingWM(el){
      if(!el) return;
      const parent = el.parentElement; // .wm
      const move = ()=>{
        const p = parent.getBoundingClientRect();
        const pad = 40;
        const x = Math.random() * (p.width - pad*2) + pad;
        const y = Math.random() * (p.height - pad*2) + pad;
        el.style.transform = `translate(${x}px, ${y}px)`;
        el.style.opacity = String(0.75 + Math.random()*0.2);
      };
      move();
      setInterval(move, 2000 + Math.random()*1200);
    }

    // ======================== Ù…Ù†Ø¹ Ø§Ù„ØªÙˆØ³Ø¹ Ø¹Ù„Ù‰ Ø§Ù„ÙƒÙˆØ¯ ========================
    // ØªØ¹Ø·ÙŠÙ„ Ø£Ø®Ø·Ø§Ø¡ ÙˆØ§Ø¶Ø­Ø© ÙÙŠ Ø§Ù„ÙƒÙˆÙ†Ø³ÙˆÙ„
    window.addEventListener('error', e=>{ e.preventDefault(); return true; });
    window.addEventListener('unhandledrejection', e=>{ e.preventDefault(); return true; });

    // Ù…Ø­Ø§ÙˆÙ„Ø© Ø¥Ø®ÙØ§Ø¡ Ø³Ù„Ø§Ø³Ù„ Ø­Ø³Ø§Ø³Ø© Ø¨Ø³ÙŠØ·Ø© (Obfuscation Ø®ÙÙŠÙØ©)
    // Ù…Ù„Ø§Ø­Ø¸Ø©: Ù„Ù„Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø£Ø¹Ù„Ù‰ Ø§Ø³ØªØ®Ø¯Ù… Obfuscator Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø¨Ù†Ø§Ø¡.
    (function(){
      const _0x = (s,k)=> atob(s).split('').map((c,i)=> String.fromCharCode(c.charCodeAt(0) ^ (k.charCodeAt(i%k.length)))).join('');
      // Ù…Ø«Ø§Ù„ Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡Ø§ Ø¹Ù†Ø¯ Ø§Ù„Ø­Ø§Ø¬Ø©.
    })();
  </script>
</body>
</html>
